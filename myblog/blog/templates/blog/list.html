{% extends "blog/base.html" %} {% block title %}myBlog - Details {% endblock title %}
{% block list_style %}
<style>
  @import url("https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");

  /* Carousel Styles */
  .carousel {
    height: 100vh;
    /* margin: 0 auto; */
    width: 100%;
    left: 0;
    overflow: hidden;
    position: relative;
    background: 30px 3px 5px 5px rgba(0, 0, 0, 0.3);
  }

  .carousel .list .item {
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0 0 0 0;
  }

  .carousel .list .item img {
    width: 100%;
    object-fit: cover;
  }

  .carousel .list .item .content {
    position: absolute;
    top: 20%;
    width: 1140px;
    max-width: 80%;
    left: 50%;
    transform: translateX(-50%);
    padding-right: 30%;
    box-sizing: border-box;
    color: #fff;
    text-shadow: 0 5px 10px #0004;
  }

  .carousel .list .item .author {
    font-weight: bold;
    letter-spacing: 10px;
  }

  .carousel .list .item .title,
  .carousel .list .item .category {
    font-size: 2.5em;
    font-weight: bold;
    line-height: 1.3em;
  }

  .carousel .list .item .category {
    color: #f1683a;
  }

  .carousel .list .item .buttons button {
    margin-top: 20px;
    border: none;
    border-radius: 10px;
    padding: 8px 16px;
  }

  /* Thumbnail */
  .thumbnail {
    position: absolute;
    bottom: 50px;
    left: 80%;
    width: max-content;
    z-index: 100;
    display: flex;
    gap: 20px;
    transform: translateX(-50%);
  }

  .thumbnail .item {
    width: 150px;
    height: 200px;
    flex-shrink: 0;
    position: relative;
  }

  .thumbnail .item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 20px;
  }

  .thumbnail .item .content {
    color: #fff;
    position: absolute;
    bottom: 10px;
    left: 10px;
    right: 10px;
  }

  .thumbnail .item .content .title {
    font-weight: 500;
    font-size: 11px;
    color: #979797;
  }

  /* Arrows */
  .arrows {
    position: absolute;
    top: 80%;
    right: 52%;
    z-index: 100;
    width: 300px;
    max-width: 30%;
    display: flex;
    gap: 10px;
    align-items: center;
  }

  .arrows button {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #eee4;
    border: none;
    color: #fff;
    font-family: monospace;
    font-weight: bold;
    transition: 0.5s;
  }

  .arrows button:hover {
    background-color: #fff;
    color: #000;
  }

  /* Animation */
  .carousel .list .item:nth-child(1) {
    z-index: 1;
  }

  /* Animation text in first item */
  .carousel .list .item:nth-child(1) .content .author,
  .carousel .list .item:nth-child(1) .content .title,
  .carousel .list .item:nth-child(1) .content .category,
  .carousel .list .item:nth-child(1) .content .des,
  .carousel .list .item:nth-child(1) .content .buttons {
    transform: translateY(50px);
    filter: blur(20px);
    opacity: 0;
    animation: showContent 0.5s 1s linear 1 forwards;
  }

  @keyframes showContent {
    to {
      transform: translateY(0px);
      filter: blur(0px);
      opacity: 1;
    }
  }

  .carousel .list .item:nth-child(1) .content .title {
    animation-delay: 1.2s !important;
  }

  .carousel .list .item:nth-child(1) .content .category {
    animation-delay: 1.4s !important;
  }

  .carousel .list .item:nth-child(1) .content .des {
    animation-delay: 1.6s !important;
  }

  .carousel .list .item:nth-child(1) .content .buttons {
    animation-delay: 1.8s !important;
  }

  /* Running time */
  .carousel .time {
    position: absolute;
    z-index: 1000;
    width: 0%;
    height: 3px;
    background-color: #f1683a;
    left: 0;
    top: 0;
  }

  @media screen and (max-width: 678px) {
    .carousel .list .item .content {
      padding-right: 0;
    }
    .carousel .list .item .content .title {
      font-size: 30px;
    }
  }

  /* Remove container padding */
  .container-fluid.my-5 {
    padding-left: 0;
    padding-right: 0;
    margin-top: 0 !important;
  }
</style>
{% endblock list_style %} {% block content %}
<div class="main_content">
  <!-- Custom Slider -->
  <div class="container-fluid">
    <div class="carousel">
      <!-- list item -->
      <div class="list">
        {% for item in corousel %}
        <div class="item">
          <img
            src="{{ item.image }}"
            alt="{{ item.title }}"
            style="max-height: 950px"
          />
          <div class="content">
            <div class="author">{{ item.published_by }}</div>
            <div class="title">{{ item.title }}</div>
            <div class="category">{{ item.category }}</div>
            <div class="des">{{ item.description }}</div>
            <div class="buttons">
              <a href="{% url 'detail' item.pk %}"><button>SEE MORE</button></a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- thumbnail -->
      <div class="thumbnail">
        {% for item in corousel %}
        <div class="item">
          <img src="{{ item.image }}" alt="{{ item.title }}" />
          <div class="content">
            <div class="title">{{ item.title }}</div>
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- arrows -->
      <div class="arrows">
        <button id="prev"><</button>
        <button id="next">></button>
      </div>

      <!-- time running -->
      <div class="time">{{item.date}}</div>
    </div>
  </div>

  <!-- News Cards -->
  <div class="container my-5">
    <div class="row">
      {% for item in posts %}
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm border-0 rounded-3 overflow-hidden">
          <img
            src="{{ item.image }}"
            class="card-img-top"
            alt="Post Image"
            style="height: 220px; object-fit: cover"
          />
          <div class="card-body d-flex flex-column">
            <h5 class="card-title fw-bold">{{ item.title }}</h5>
            <p class="card-text text-muted flex-grow-1">
              {{ item.description }}
            </p>
            <div class="d-flex align-items-center justify-content-between my-2">
              <div>
                <button
                  class="btn btn-outline-danger btn-sm me-2 like-btn"
                  data-post-id="{{ item.id }}"
                >
                  <i class="fa fa-heart"></i> Like
                </button>
                <span class="fw-bold text-danger like-count"
                  >{{ item.likes }}</span
                >
                Likes
              </div>
              <div>
                <i class="fa fa-comment text-primary"></i>
                <span class="fw-bold"> {{ comments.count }}</span> Comments
              </div>
            </div>
            <a
              href="{% url 'detail' item.pk %}"
              class="btn btn-primary w-100 mt-2"
              >Read more</a
            >
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock content %} {% block list_scripts %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    let nextDom = document.getElementById("next");
    let prevDom = document.getElementById("prev");
    let carouselDom = document.querySelector(".carousel");
    let listItemDom = document.querySelector(".carousel .list");
    let thumbnailDom = document.querySelector(".carousel .thumbnail");

    nextDom.onclick = function () {
      showSlider("next");
    };

    prevDom.onclick = function () {
      showSlider("prev");
    };

    let timeRunning = 3000;
    let timeAutoNext = 7000;
    let runTimeOut;
    let runAutoRun = setTimeout(() => {
      nextDom.click();
    }, timeAutoNext);

    function showSlider(type) {
      let itemSlider = document.querySelectorAll(".carousel .list .item");
      let itemThumbnail = document.querySelectorAll(
        ".carousel .thumbnail .item"
      );

      if (type === "next") {
        listItemDom.appendChild(itemSlider[0]);
        thumbnailDom.appendChild(itemThumbnail[0]);
        carouselDom.classList.add("next");
      } else {
        let positionLastItem = itemSlider.length - 1;
        listItemDom.prepend(itemSlider[positionLastItem]);
        thumbnailDom.prepend(itemThumbnail[positionLastItem]);
        carouselDom.classList.add("prev");
      }

      clearTimeout(runTimeOut);
      runTimeOut = setTimeout(() => {
        carouselDom.classList.remove("next");
        carouselDom.classList.remove("prev");
      }, timeRunning);

      clearTimeout(runAutoRun);
      runAutoRun = setTimeout(() => {
        nextDom.click();
      }, timeAutoNext);
    }
  });
</script>
{% endblock list_scripts %}
